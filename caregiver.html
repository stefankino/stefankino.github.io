<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<title>Asclepius - Caregiver</title>

<!-- Tailwind (CDN) -->
<script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = {
    darkMode: 'class',
    theme: {
      extend: {
        colors: { brand: { DEFAULT:'#2563eb', 600:'#2563eb', 700:'#1d4ed8' } },
        boxShadow: { glass: '0 10px 30px rgba(0,0,0,.12)' }
      }
    }
  }
</script>

<!-- Preline UI -->
<link rel="stylesheet" href="https://unpkg.com/preline/dist/preline.css">
<script defer src="https://unpkg.com/preline/dist/preline.js"></script>

<style>
  .phone { max-width: 420px; }
  .safe-bottom { padding-bottom: calc(env(safe-area-inset-bottom) + 74px); }
  .safe-footer { height: calc(env(safe-area-inset-bottom) + 62px); }
  .tap { min-height: 44px; }
  .chip { @apply inline-flex items-center rounded-full border px-3 py-1.5 text-xs font-medium; }
</style>
</head>
<body class="bg-neutral-50 text-neutral-900 antialiased">

<!-- App Shell -->
<div class="mx-auto phone min-h-screen bg-white shadow-lg flex flex-col">

  <!-- Top Bar -->
  <header class="sticky top-0 z-40 border-b bg-white/90 backdrop-blur">
    <div class="h-14 px-4 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <a href="index.html" class="flex items-center gap-2">
          <div class="size-8 grid place-items-center rounded-xl bg-blue-50 text-blue-600 font-bold">A</div>
          <div class="font-semibold">Asclepius</div>
          <span class="ml-2 text-xs px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200">Demo</span>
        </a>
      </div>
      <div class="flex items-center gap-2">
        <span class="text-xs px-2 py-1 rounded-full bg-green-50 text-green-700 border border-green-200">Caregiver</span>
        <a href="client.html" class="text-xs text-neutral-500">Switch to Client</a>
      </div>
    </div>
  </header>

  <!-- Content -->
  <main class="flex-1 px-3 safe-bottom">

    <!-- ========== CAREGIVER (Êä§Â∑•Á´Ø) ========== -->
    <section id="role-caregiver" class="space-y-3">
      <!-- Sub Tabs -->
      <nav class="grid grid-cols-5 gap-1 p-1 rounded-xl bg-neutral-100 sticky top-14 z-30">
        <button data-sub="g-tasks" class="g-sub px-3 py-2 text-xs rounded-lg bg-white shadow-sm">Tasks</button>
        <button data-sub="g-schedule" class="g-sub px-3 py-2 text-xs rounded-lg">Schedule</button>
        <button data-sub="g-earn" class="g-sub px-3 py-2 text-xs rounded-lg">Earnings</button>
        <button data-sub="g-msg" class="g-sub px-3 py-2 text-xs rounded-lg">Messages</button>
        <button data-sub="g-me" class="g-sub px-3 py-2 text-xs rounded-lg">Profile</button>
      </nav>

      <!-- Tasks -->
      <div id="g-tasks" class="space-y-3">
        <!-- Tasks Header -->
        <div class="rounded-2xl border bg-white p-4">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">Available Tasks</h3>
            <div class="flex items-center gap-2">
              <button onclick="refreshTasks()" class="chip">Refresh</button>
              <button onclick="toggleTaskFilters()" class="chip">Filters</button>
            </div>
          </div>
          
          <!-- Task Stats -->
          <div class="mt-3 grid grid-cols-3 gap-2 text-center">
            <div class="rounded-xl border p-3">
              <div id="totalTasks" class="text-xl font-semibold">12</div>
              <div class="text-[11px] text-neutral-500">Available</div>
            </div>
            <div class="rounded-xl border p-3">
              <div id="todayTasks" class="text-xl font-semibold">3</div>
              <div class="text-[11px] text-neutral-500">Today</div>
            </div>
            <div class="rounded-xl border p-3">
              <div id="avgEarnings" class="text-xl font-semibold">$32</div>
              <div class="text-[11px] text-neutral-500">Avg/Hour</div>
            </div>
          </div>
        </div>

        <!-- Task Filters -->
        <div id="taskFilters" class="hidden rounded-2xl border bg-white p-4">
          <div class="flex items-center justify-between mb-3">
            <h4 class="font-medium">Filter Tasks</h4>
            <button onclick="toggleTaskFilters()" class="text-xs text-blue-600">Close</button>
          </div>
          <div class="grid grid-cols-2 gap-3">
            <div>
              <label class="block text-xs text-neutral-500 mb-1">Service Type</label>
              <select id="filterService" class="w-full rounded-xl border px-3 py-2 text-sm">
                <option value="">All Services</option>
                <option value="Home Care">Home Care</option>
                <option value="Nursing">Nursing</option>
                <option value="Companion">Companion</option>
                <option value="Rehab">Rehabilitation</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-neutral-500 mb-1">Distance</label>
              <select id="filterDistance" class="w-full rounded-xl border px-3 py-2 text-sm">
                <option value="">Any Distance</option>
                <option value="1">Within 1 km</option>
                <option value="2">Within 2 km</option>
                <option value="5">Within 5 km</option>
                <option value="10">Within 10 km</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-neutral-500 mb-1">Duration</label>
              <select id="filterDuration" class="w-full rounded-xl border px-3 py-2 text-sm">
                <option value="">Any Duration</option>
                <option value="2">2 hours</option>
                <option value="4">4 hours</option>
                <option value="6">6 hours</option>
                <option value="8">8+ hours</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-neutral-500 mb-1">Rate</label>
              <select id="filterRate" class="w-full rounded-xl border px-3 py-2 text-sm">
                <option value="">Any Rate</option>
                <option value="25">$25+/hr</option>
                <option value="30">$30+/hr</option>
                <option value="35">$35+/hr</option>
                <option value="40">$40+/hr</option>
              </select>
            </div>
          </div>
          <div class="mt-3 flex gap-2">
            <button onclick="applyTaskFilters()" class="flex-1 rounded-xl bg-blue-600 text-white py-2.5 text-sm">Apply Filters</button>
            <button onclick="clearTaskFilters()" class="rounded-xl border py-2.5 px-4 text-sm">Clear</button>
          </div>
        </div>

        <!-- Tasks List -->
        <div id="taskList" class="space-y-3">
          <!-- Sample Task 1 -->
          <div class="rounded-2xl border bg-white p-4">
            <div class="flex items-start justify-between">
              <div class="flex-1">
                <div class="flex items-center gap-2 mb-2">
                  <h4 class="font-semibold">Home Care - Mrs. Johnson</h4>
                  <span class="text-xs px-2 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-200">Urgent</span>
                </div>
                <div class="text-sm text-neutral-600 mb-2">Personal care assistance, medication reminders, light housekeeping</div>
                <div class="flex items-center gap-4 text-xs text-neutral-500">
                  <span>üìç 1.2 km away</span>
                  <span>‚è∞ 4 hours</span>
                  <span>üí∞ $28/hr</span>
                  <span>üìÖ Today 2:00 PM</span>
                </div>
              </div>
            </div>
            <div class="mt-3 flex gap-2">
              <button onclick="viewTaskDetails('task1')" class="flex-1 rounded-xl border py-2.5 text-sm">View Details</button>
              <button onclick="acceptTask('task1')" class="flex-1 rounded-xl bg-blue-600 text-white py-2.5 text-sm">Accept</button>
            </div>
          </div>

          <!-- Sample Task 2 -->
          <div class="rounded-2xl border bg-white p-4">
            <div class="flex items-start justify-between">
              <div class="flex-1">
                <div class="flex items-center gap-2 mb-2">
                  <h4 class="font-semibold">Companion Care - Mr. Smith</h4>
                  <span class="text-xs px-2 py-1 rounded-full bg-green-50 text-green-700 border border-green-200">Regular</span>
                </div>
                <div class="text-sm text-neutral-600 mb-2">Social companionship, meal preparation, transportation to appointments</div>
                <div class="flex items-center gap-4 text-xs text-neutral-500">
                  <span>üìç 2.8 km away</span>
                  <span>‚è∞ 6 hours</span>
                  <span>üí∞ $25/hr</span>
                  <span>üìÖ Tomorrow 10:00 AM</span>
                </div>
              </div>
            </div>
            <div class="mt-3 flex gap-2">
              <button onclick="viewTaskDetails('task2')" class="flex-1 rounded-xl border py-2.5 text-sm">View Details</button>
              <button onclick="acceptTask('task2')" class="flex-1 rounded-xl bg-blue-600 text-white py-2.5 text-sm">Accept</button>
            </div>
          </div>

          <!-- Sample Task 3 -->
          <div class="rounded-2xl border bg-white p-4">
            <div class="flex items-start justify-between">
              <div class="flex-1">
                <div class="flex items-center gap-2 mb-2">
                  <h4 class="font-semibold">Nursing Care - Mrs. Davis</h4>
                  <span class="text-xs px-2 py-1 rounded-full bg-purple-50 text-purple-700 border border-purple-200">Premium</span>
                </div>
                <div class="text-sm text-neutral-600 mb-2">Medication administration, vital signs monitoring, wound care</div>
                <div class="flex items-center gap-4 text-xs text-neutral-500">
                  <span>üìç 3.5 km away</span>
                  <span>‚è∞ 8 hours</span>
                  <span>üí∞ $45/hr</span>
                  <span>üìÖ Saturday 9:00 AM</span>
                </div>
              </div>
            </div>
            <div class="mt-3 flex gap-2">
              <button onclick="viewTaskDetails('task3')" class="flex-1 rounded-xl border py-2.5 text-sm">View Details</button>
              <button onclick="acceptTask('task3')" class="flex-1 rounded-xl bg-blue-600 text-white py-2.5 text-sm">Accept</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Schedule -->
      <div id="g-schedule" class="hidden space-y-3">
        <!-- Calendar Header -->
        <div class="rounded-2xl border bg-white p-4">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">Schedule</h3>
            <div class="flex items-center gap-2">
              <button id="prevMonth" class="rounded-lg border px-2 py-1 text-xs">‚Äπ</button>
              <span id="currentMonth" class="text-sm font-medium">December 2024</span>
              <button id="nextMonth" class="rounded-lg border px-2 py-1 text-xs">‚Ä∫</button>
            </div>
          </div>
          
          <!-- Calendar Grid -->
          <div class="mt-3">
            <!-- Weekday Headers -->
            <div class="grid grid-cols-7 gap-1 text-xs text-center text-neutral-500 mb-1">
              <div class="py-2">Sun</div><div class="py-2">Mon</div><div class="py-2">Tue</div><div class="py-2">Wed</div><div class="py-2">Thu</div><div class="py-2">Fri</div><div class="py-2">Sat</div>
            </div>
            
            <!-- Calendar Days -->
            <div id="calendarGrid" class="grid grid-cols-7 gap-1 text-xs">
              <!-- Calendar days will be injected here -->
            </div>
          </div>
        </div>

        <!-- Today's Schedule -->
        <div class="rounded-2xl border bg-white p-4">
          <h3 class="font-semibold">Today's Schedule</h3>
          <div class="mt-3 space-y-2">
            <div class="rounded-xl border p-3 bg-blue-50 border-blue-200">
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                  <div class="size-8 grid place-items-center rounded-lg bg-blue-100 text-blue-600 text-xs font-bold">9</div>
                  <div>
                    <div class="text-sm font-medium">Mrs. Johnson</div>
                    <div class="text-xs text-neutral-600">Home Care ‚Ä¢ 4 hours</div>
                  </div>
                </div>
                <div class="text-right">
                  <div class="text-sm font-medium">9:00 AM</div>
                  <div class="text-xs text-neutral-500">$112</div>
                </div>
              </div>
            </div>
            <div class="rounded-xl border p-3 bg-green-50 border-green-200">
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                  <div class="size-8 grid place-items-center rounded-lg bg-green-100 text-green-600 text-xs font-bold">2</div>
                  <div>
                    <div class="text-sm font-medium">Mr. Smith</div>
                    <div class="text-xs text-neutral-600">Companion ‚Ä¢ 6 hours</div>
                  </div>
                </div>
                <div class="text-right">
                  <div class="text-sm font-medium">2:00 PM</div>
                  <div class="text-xs text-neutral-500">$150</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Route Map Preview -->
        <div class="rounded-2xl border bg-white p-4">
          <h3 class="font-semibold">Today's Route</h3>
          <div class="mt-2 h-32 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl flex items-center justify-center text-sm text-blue-700">
            <div class="text-center">
              <div class="text-lg mb-1">üó∫Ô∏è</div>
              <div>Map Preview</div>
              <div class="text-xs text-blue-600 mt-1">Click to view detailed route</div>
            </div>
          </div>
          <div class="mt-3 grid grid-cols-2 gap-2">
            <button onclick="openRouteMap()" class="rounded-xl border py-2.5 text-sm">View Route</button>
            <button onclick="startNavigation()" class="rounded-xl bg-blue-600 text-white py-2.5 text-sm">Start Navigation</button>
          </div>
        </div>
      </div>

      <!-- Earnings -->
      <div id="g-earn" class="hidden space-y-3">
        <!-- Earnings Overview -->
        <div class="rounded-2xl border bg-white p-4">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">Earnings Overview</h3>
            <div class="flex items-center gap-2">
              <button onclick="exportEarnings()" class="chip">Export</button>
              <button onclick="openEarningsSettings()" class="chip">Settings</button>
            </div>
          </div>
          <div class="mt-3 grid grid-cols-3 gap-2 text-center">
            <div class="rounded-xl border p-3">
              <div id="earnToday" class="text-xl font-semibold">$262</div>
              <div class="text-[11px] text-neutral-500">Today</div>
            </div>
            <div class="rounded-xl border p-3">
              <div id="earnWeek" class="text-xl font-semibold">$1,240</div>
              <div class="text-[11px] text-neutral-500">This Week</div>
            </div>
            <div class="rounded-xl border p-3">
              <div id="earnPending" class="text-xl font-semibold">$180</div>
              <div class="text-[11px] text-neutral-500">Pending</div>
            </div>
          </div>
          
          <!-- Additional Metrics -->
          <div class="mt-3 grid grid-cols-2 gap-2 text-center">
            <div class="rounded-xl border p-3">
              <div id="earnMonth" class="text-lg font-semibold">$4,850</div>
              <div class="text-[11px] text-neutral-500">This Month</div>
            </div>
            <div class="rounded-xl border p-3">
              <div id="earnAvgHourly" class="text-lg font-semibold">$32</div>
              <div class="text-[11px] text-neutral-500">Avg/Hour</div>
            </div>
          </div>
        </div>

        <!-- Earnings Chart -->
        <div class="rounded-2xl border bg-white p-4">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">Earnings Trend</h3>
            <div class="flex items-center gap-2">
              <button onclick="showEarningsChart('week')" class="chip">Week</button>
              <button onclick="showEarningsChart('month')" class="chip">Month</button>
              <button onclick="showEarningsChart('year')" class="chip">Year</button>
            </div>
          </div>
          <div class="mt-3 h-32 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl flex items-center justify-center">
            <div class="text-center">
              <div class="text-lg mb-1">üìä</div>
              <div class="text-sm text-blue-700">Earnings Chart</div>
              <div class="text-xs text-blue-600 mt-1">Interactive chart coming soon</div>
            </div>
          </div>
        </div>

        <!-- Recent Earnings -->
        <div class="rounded-2xl border bg-white p-4">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">Recent Earnings</h3>
            <button onclick="showAllEarnings()" class="text-xs text-blue-600">View All</button>
          </div>
          <div id="recentEarningsList" class="mt-3 space-y-2">
            <div class="flex items-center justify-between py-2 border-b">
              <div>
                <div class="text-sm font-medium">Mrs. Johnson - Home Care</div>
                <div class="text-xs text-neutral-500">Today ‚Ä¢ 4 hours</div>
              </div>
              <div class="text-right">
                <div class="font-medium">$112</div>
                <div class="text-xs text-green-600">Completed</div>
              </div>
            </div>
            <div class="flex items-center justify-between py-2 border-b">
              <div>
                <div class="text-sm font-medium">Mr. Smith - Companion</div>
                <div class="text-xs text-neutral-500">Yesterday ‚Ä¢ 6 hours</div>
              </div>
              <div class="text-right">
                <div class="font-medium">$150</div>
                <div class="text-xs text-green-600">Completed</div>
              </div>
            </div>
            <div class="flex items-center justify-between py-2">
              <div>
                <div class="text-sm font-medium">Mrs. Davis - Nursing</div>
                <div class="text-xs text-neutral-500">Dec 15 ‚Ä¢ 8 hours</div>
              </div>
              <div class="text-right">
                <div class="font-medium">$360</div>
                <div class="text-xs text-blue-600">Pending</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Payment Methods -->
        <div class="rounded-2xl border bg-white p-4">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">Payment Methods</h3>
            <button onclick="addPaymentMethod()" class="text-xs text-blue-600">Add Method</button>
          </div>
          <div class="mt-3 space-y-2">
            <div class="rounded-xl border p-3 flex items-center justify-between">
              <div class="flex items-center gap-3">
                <div class="size-8 grid place-items-center rounded-lg bg-blue-50 text-blue-600 font-bold text-xs">üè¶</div>
                <div>
                  <div class="text-sm font-medium">Primary Bank Account</div>
                  <div class="text-xs text-neutral-500">****1234 ‚Ä¢ Next payout: Dec 20</div>
                </div>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-xs px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200">Active</span>
                <button class="text-xs text-neutral-500">Edit</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Messages -->
      <div id="g-msg" class="hidden space-y-3">
        <!-- Message Categories -->
        <div class="rounded-2xl border bg-white p-4">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">Messages</h3>
            <div class="flex items-center gap-2">
              <button class="chip">All</button>
              <button class="chip">Unread</button>
              <button class="chip">Clients</button>
            </div>
          </div>
          
          <!-- Search Bar -->
          <div class="mt-3 flex items-center gap-2">
            <svg class="size-4 text-neutral-500" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.2-4.2M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="currentColor" stroke-width="1.8"/></svg>
            <input placeholder="Search messages..." class="flex-1 outline-none text-sm">
          </div>
        </div>

        <!-- System Notifications -->
        <div class="rounded-2xl border bg-white p-4">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">System Notifications</h3>
            <span class="text-xs px-2 py-1 rounded-full bg-red-50 text-red-700 border border-red-200">2 New</span>
          </div>
          <div class="mt-3 space-y-2">
            <div class="rounded-xl border p-3 bg-blue-50 border-blue-200">
              <div class="flex items-start justify-between">
                <div class="flex items-start gap-3">
                  <div class="size-8 grid place-items-center rounded-lg bg-blue-100 text-blue-600">
                    <svg class="size-4" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                    </svg>
                  </div>
                  <div class="flex-1">
                    <div class="text-sm font-medium">New Assignment Available</div>
                    <div class="text-xs text-neutral-600 mt-1">You have a new care assignment for Mrs. Johnson starting tomorrow at 9:00 AM</div>
                    <div class="text-xs text-neutral-500 mt-1">2 hours ago</div>
                  </div>
                </div>
                <div class="flex items-center gap-1">
                  <div class="size-2 rounded-full bg-blue-600"></div>
                  <button class="text-xs text-blue-600">View</button>
                </div>
              </div>
            </div>
            
            <div class="rounded-xl border p-3 bg-green-50 border-green-200">
              <div class="flex items-start justify-between">
                <div class="flex items-start gap-3">
                  <div class="size-8 grid place-items-center rounded-lg bg-green-100 text-green-600">
                    <svg class="size-4" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                  </div>
                  <div class="flex-1">
                    <div class="text-sm font-medium">Payment Processed</div>
                    <div class="text-xs text-neutral-600 mt-1">Your payment for last week's services ($420) has been processed</div>
                    <div class="text-xs text-neutral-500 mt-1">1 day ago</div>
                  </div>
                </div>
                <div class="flex items-center gap-1">
                  <div class="size-2 rounded-full bg-green-600"></div>
                  <button class="text-xs text-green-600">View</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Client Conversations -->
        <div class="rounded-2xl border bg-white p-4">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">Client Conversations</h3>
            <span class="text-xs px-2 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-200">3 Active</span>
          </div>
          <div class="mt-3 space-y-2">
            <!-- Active Conversation -->
            <div class="rounded-xl border p-3 bg-blue-50 border-blue-200">
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                  <div class="size-10 grid place-items-center rounded-xl bg-blue-100 text-blue-700 font-semibold text-sm">MJ</div>
                  <div class="flex-1">
                    <div class="flex items-center gap-2">
                      <div class="text-sm font-medium">Mrs. Johnson</div>
                      <span class="text-xs px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200">Active</span>
                    </div>
                    <div class="text-xs text-neutral-600 mt-1">"Thank you for today's care. Can we schedule next week?"</div>
                    <div class="text-xs text-neutral-500 mt-1">Just now</div>
                  </div>
                </div>
                <div class="flex items-center gap-2">
                  <div class="size-2 rounded-full bg-blue-600"></div>
                  <button class="text-xs text-blue-600">Reply</button>
                </div>
              </div>
            </div>

            <!-- Recent Conversation -->
            <div class="rounded-xl border p-3">
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                  <div class="size-10 grid place-items-center rounded-xl bg-green-100 text-green-700 font-semibold text-sm">RS</div>
                  <div class="flex-1">
                    <div class="flex items-center gap-2">
                      <div class="text-sm font-medium">Mr. Smith</div>
                      <span class="text-xs px-2 py-0.5 rounded-full bg-neutral-50 text-neutral-700 border border-neutral-200">Completed</span>
                    </div>
                    <div class="text-xs text-neutral-600 mt-1">"Please bring the medication list tomorrow"</div>
                    <div class="text-xs text-neutral-500 mt-1">2 hours ago</div>
                  </div>
                </div>
                <div class="flex items-center gap-2">
                  <button class="text-xs text-neutral-500">View</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Profile / KYC -->
      <div id="g-me" class="hidden space-y-3">
        <!-- Profile Header -->
        <div class="rounded-2xl border bg-white p-4">
          <div class="flex items-center gap-4">
            <div class="size-16 grid place-items-center rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white font-bold text-xl">
              JR
            </div>
            <div class="flex-1">
              <h3 class="text-lg font-semibold">Care Giver</h3>
              <p class="text-sm text-neutral-500">Certified Caregiver</p>
              <div class="flex items-center gap-2 mt-1">
                <span class="text-xs px-2 py-1 rounded-full bg-emerald-100 text-emerald-700 border border-emerald-200">‚úÖ Verified</span>
                <span class="text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700 border border-blue-200">4.9‚òÖ Rating</span>
              </div>
            </div>
            <button onclick="editProfile()" class="rounded-xl border px-4 py-2 text-sm font-medium hover:bg-gray-50">
              Edit Profile
            </button>
          </div>
        </div>

        <!-- Profile Completion Status -->
        <div class="rounded-2xl border bg-white p-4">
          <div class="flex items-center justify-between mb-3">
            <h3 class="font-semibold">Profile Completion</h3>
            <div class="text-sm font-medium text-blue-600">85% Complete</div>
          </div>
          <div class="w-full bg-gray-200 rounded-full h-2 mb-3">
            <div class="bg-blue-600 h-2 rounded-full" style="width: 85%"></div>
          </div>
          <div class="grid grid-cols-2 gap-2 text-xs">
            <div class="flex items-center gap-2">
              <span class="size-2 rounded-full bg-emerald-500"></span>
              <span>Basic Info</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="size-2 rounded-full bg-emerald-500"></span>
              <span>Documents</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="size-2 rounded-full bg-amber-500"></span>
              <span>Background Check</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="size-2 rounded-full bg-gray-300"></span>
              <span>Bank Account</span>
            </div>
          </div>
        </div>

        <!-- Profile Information -->
        <div class="rounded-2xl border bg-white p-4">
          <div class="flex items-center justify-between mb-3">
            <h3 class="font-semibold">Profile Information</h3>
            <button onclick="editProfileInfo()" class="text-xs text-blue-600">Edit</button>
          </div>
          <div class="grid grid-cols-2 gap-3 text-sm">
            <div>
              <div class="text-neutral-500 text-xs">Full Name</div>
              <div class="font-medium">Care Giver</div>
            </div>
            <div>
              <div class="text-neutral-500 text-xs">Phone</div>
              <div class="font-medium">+1 (902) 555-0123</div>
            </div>
            <div>
              <div class="text-neutral-500 text-xs">Email</div>
              <div class="font-medium">jane.roe@email.com</div>
            </div>
            <div>
              <div class="text-neutral-500 text-xs">Experience</div>
              <div class="font-medium">8 years</div>
            </div>
            <div>
              <div class="text-neutral-500 text-xs">Languages</div>
              <div class="font-medium">English, ‰∏≠Êñá</div>
            </div>
            <div>
              <div class="text-neutral-500 text-xs">Location</div>
              <div class="font-medium">Halifax, NS</div>
            </div>
          </div>
        </div>

        <!-- Performance Metrics -->
        <div class="rounded-2xl border bg-white p-4">
          <div class="flex items-center justify-between mb-3">
            <h3 class="font-semibold">Performance Metrics</h3>
            <button onclick="viewPerformanceDetails()" class="text-xs text-blue-600">View Details</button>
          </div>
          <div class="grid grid-cols-2 gap-3">
            <div class="rounded-xl border p-3 text-center">
              <div class="text-2xl font-semibold text-blue-600">4.9</div>
              <div class="text-xs text-neutral-500">Average Rating</div>
              <div class="text-xs text-neutral-400">86 reviews</div>
            </div>
            <div class="rounded-xl border p-3 text-center">
              <div class="text-2xl font-semibold text-green-600">98%</div>
              <div class="text-xs text-neutral-500">Completion Rate</div>
              <div class="text-xs text-neutral-400">Last 30 days</div>
            </div>
            <div class="rounded-xl border p-3 text-center">
              <div class="text-2xl font-semibold text-purple-600">156</div>
              <div class="text-xs text-neutral-500">Total Clients</div>
              <div class="text-xs text-neutral-400">All time</div>
            </div>
            <div class="rounded-xl border p-3 text-center">
              <div class="text-2xl font-semibold text-orange-600">2.1km</div>
              <div class="text-xs text-neutral-500">Avg Distance</div>
              <div class="text-xs text-neutral-400">To clients</div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Bottom Bars (role-specific) -->
  <footer class="sticky bottom-0 z-40 border-t bg-white/95 backdrop-blur">
    <!-- Caregiver Bar -->
    <div id="bar-caregiver" class="mx-auto phone safe-footer grid grid-cols-5">
      <button data-sub="g-tasks" class="g-sub flex flex-col items-center justify-center text-[11px] py-2.5 text-blue-600">Tasks</button>
      <button data-sub="g-schedule" class="g-sub flex flex-col items-center justify-center text-[11px] py-2.5 text-neutral-500">Schedule</button>
      <button data-sub="g-earn" class="g-sub flex flex-col items-center justify-center text-[11px] py-2.5 text-neutral-500">Earnings</button>
      <button data-sub="g-msg" class="g-sub flex flex-col items-center justify-center text-[11px] py-2.5 text-neutral-500">Messages</button>
      <button data-sub="g-me" class="g-sub flex flex-col items-center justify-center text-[11px] py-2.5 text-neutral-500">Profile</button>
    </div>
  </footer>
</div>

<script>
const $ = s => document.querySelector(s);
const $$ = s => Array.from(document.querySelectorAll(s));

function toast(msg){ 
  alert(msg); // Simple alert for demo
}

function money(x){ 
  return "$" + Number(x).toFixed(0); 
}

function showCareSub(id){
  $$('.g-sub').forEach(b => {
    const on = b.dataset.sub===id;
    b.classList.toggle('bg-white', on);
    b.classList.toggle('shadow-sm', on);
    b.classList.toggle('text-blue-600', on);
    b.classList.toggle('text-neutral-500', !on);
  });
  $$('[id^="g-"]').forEach(el => el.classList.add('hidden'));
  $(`#${id}`).classList.remove('hidden');
}

function refreshTasks(){
  toast("Tasks refreshed!");
}

function toggleTaskFilters(){
  const filters = $("#taskFilters");
  filters.classList.toggle('hidden');
}

function applyTaskFilters(){
  toast("Filters applied!");
  toggleTaskFilters();
}

function clearTaskFilters(){
  $("#filterService").value = "";
  $("#filterDistance").value = "";
  $("#filterDuration").value = "";
  $("#filterRate").value = "";
  toast("Filters cleared!");
}

function viewTaskDetails(taskId){
  toast(`Viewing details for ${taskId}`);
}

function acceptTask(taskId){
  toast(`Task ${taskId} accepted!`);
}

function openRouteMap(){
  toast("Opening route map...");
}

function startNavigation(){
  toast("Starting navigation...");
}

function exportEarnings(){
  toast("Exporting earnings data...");
}

function openEarningsSettings(){
  toast("Opening earnings settings...");
}

function showEarningsChart(period){
  toast(`Showing ${period} earnings chart`);
}

function showAllEarnings(){
  toast("Showing all earnings...");
}

function addPaymentMethod(){
  toast("Adding payment method...");
}

function editProfile(){
  toast("Editing profile...");
}

function editProfileInfo(){
  toast("Editing profile information...");
}

function viewPerformanceDetails(){
  toast("Viewing performance details...");
}

// Initialize
document.addEventListener('DOMContentLoaded', function() {
  // Add click handlers for sub-navigation
  $$('.g-sub').forEach(btn => {
    btn.addEventListener('click', () => {
      const subId = btn.dataset.sub;
      if (subId) {
        showCareSub(subId);
      }
    });
  });
  
  // Initialize calendar
  const today = new Date();
  const currentMonth = today.getMonth();
  const currentYear = today.getFullYear();
  $("#currentMonth").textContent = new Date(currentYear, currentMonth).toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
  
  // Generate calendar days
  generateCalendar(currentYear, currentMonth);
  
  // Calendar navigation
  $("#prevMonth").addEventListener('click', () => {
    const newDate = new Date(currentYear, currentMonth - 1);
    $("#currentMonth").textContent = newDate.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
    generateCalendar(newDate.getFullYear(), newDate.getMonth());
  });
  
  $("#nextMonth").addEventListener('click', () => {
    const newDate = new Date(currentYear, currentMonth + 1);
    $("#currentMonth").textContent = newDate.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
    generateCalendar(newDate.getFullYear(), newDate.getMonth());
  });
});

function generateCalendar(year, month) {
  const calendarGrid = $("#calendarGrid");
  calendarGrid.innerHTML = "";
  
  const firstDay = new Date(year, month, 1).getDay();
  const daysInMonth = new Date(year, month + 1, 0).getDate();
  
  // Add empty cells for days before the first day of the month
  for (let i = 0; i < firstDay; i++) {
    const emptyCell = document.createElement('div');
    emptyCell.className = 'py-2 text-center text-neutral-300';
    calendarGrid.appendChild(emptyCell);
  }
  
  // Add days of the month
  for (let day = 1; day <= daysInMonth; day++) {
    const dayCell = document.createElement('div');
    dayCell.className = 'py-2 text-center cursor-pointer hover:bg-blue-50 rounded-lg';
    dayCell.textContent = day;
    
    // Highlight today
    const today = new Date();
    if (day === today.getDate() && month === today.getMonth() && year === today.getFullYear()) {
      dayCell.classList.add('bg-blue-100', 'text-blue-700', 'font-semibold');
    }
    
    calendarGrid.appendChild(dayCell);
  }
}
</script>

</body>
</html>
